<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EV vs ICE – Cost & Refuel Comparison</title>
    <style>
        :root {
            --primary:    #2563eb;
            --primary-d:  #1d4ed8;
            --success:    #16a34a;
            --danger:     #dc2626;
            --light:      #f8fafc;
            --gray:       #64748b;
            --dark:       #0f172a;
            --card-bg:    #ffffff;
            --border:     #e2e8f0;
            --ev-bg:      #e0f2fe;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacOSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f0f7ff 0%, #e0f2fe 100%);
            color: var(--dark);
            margin: 0;
            padding: 2rem 1rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        h1 {
            color: var(--primary-d);
            text-align: center;
            margin: 0.8em 0 1.5em;
            font-weight: 800;
            letter-spacing: -0.025em;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            padding: 2rem;
            margin-bottom: 2.5rem;
            overflow: hidden;
        }

        .section-title {
            background: var(--primary);
            color: white;
            padding: 12px 16px;
            border-radius: 10px;
            margin: 2rem 0 1.2rem;
            font-weight: 700;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 1rem 0;
            font-size: 0.98rem;
        }

        th, td {
            padding: 12px 14px;
            border: 1px solid var(--border);
            text-align: left;
        }

        th {
            background: #eff6ff;
            color: var(--primary-d);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: #f8fafc;
        }

        input[type="number"] {
            width: 110px;
            padding: 8px 10px;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.15s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37,99,235,0.2);
        }

        .result {
            font-weight: 700;
            color: var(--danger);
        }

        .savings {
            font-weight: 700;
            color: var(--success);
        }

        .simulations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
            gap: 2rem;
        }

        .km-input {
            text-align: center;
            margin: 1.8rem 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-d);
        }

        .km-input input {
            font-size: 1.25rem;
            width: 140px;
        }

        .price-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 4px;
            display: block;
        }

        .highlight-ev {
            background: var(--ev-bg) !important;
            font-weight: 500;
        }

        footer {
            text-align: center;
            color: var(--gray);
            margin-top: 4rem;
            font-size: 0.95rem;
        }
    </style>
</head>
<body>

<div class="container">

    <h1>⚡ EV vs Diesel vs Petrol – Cost & Refueling Calculator</h1>

    <div class="card">
        <div class="section-title">Monthly Cost Comparison</div>

        <div class="km-input">
            <label for="monthlyKm">Monthly distance:</label>
            <input type="number" id="monthlyKm" value="500" min="100" max="10000" step="100"> km
        </div>

        <table>
            <tr>
                <th>Powertrain</th>
                <th>Consumption</th>
                <th>Price per unit</th>
                <th>Needed</th>
                <th>Monthly cost</th>
            </tr>
            <tr class="highlight-ev">
                <td>Electric (Leapmotor C10)</td>
                <td><input type="number" id="consEv" value="16" min="8" max="35" step="0.5"> kWh/100 km</td>
                <td><input type="number" id="priceEv" value="0.39" min="0.1" max="1" step="0.01"> €/kWh</td>
                <td><span id="needEv">80.0</span> kWh</td>
                <td class="result"><span id="costEv">31.20</span> €</td>
            </tr>
            <tr>
                <td>Diesel (Peugeot 308)</td>
                <td><input type="number" id="consDiesel" value="7" min="4" max="15" step="0.5"> l/100 km</td>
                <td><input type="number" id="priceDieselMonthly" value="1.40" min="0.5" max="3" step="0.01"> €/l</td>
                <td><span id="needDiesel">35.0</span> l</td>
                <td class="result"><span id="costDiesel">49.00</span> €</td>
            </tr>
            <tr>
                <td>Petrol (Peugeot 308)</td>
                <td><input type="number" id="consPetrol" value="8" min="4" max="15" step="0.5"> l/100 km</td>
                <td><input type="number" id="pricePetrolMonthly" value="1.50" min="0.5" max="3" step="0.01"> €/l</td>
                <td><span id="needPetrol">40.0</span> l</td>
                <td class="result"><span id="costPetrol">60.00</span> €</td>
            </tr>
            <tr>
                <td colspan="4" style="text-align:right; font-weight:700;">Monthly savings – EV vs Diesel:</td>
                <td class="savings"><span id="savingsDiesel">17.80</span> €</td>
            </tr>
            <tr>
                <td colspan="4" style="text-align:right; font-weight:700;">Monthly savings – EV vs Petrol:</td>
                <td class="savings"><span id="savingsPetrol">28.80</span> €</td>
            </tr>
        </table>
    </div>

    <div class="card">
        <div class="section-title">6 h AC Charging @ 6 kW (eJoin reference price)</div>
        <table>
            <tr><td>Added energy</td><td><strong><span id="added6h">36.0</span> kWh</strong></td></tr>
            <tr><td>Cost</td><td class="result"><strong><span id="cost6h">10.44</span> €</strong></td></tr>
            <tr><td>Estimated range added</td><td><strong><span id="range6h">225</span> km</strong></td></tr>
        </table>
    </div>

    <div class="card">
        <div class="section-title">Current Status & Refuel / Charge Simulation</div>

        <div class="simulations">

            <!-- EV -->
            <div>
                <div class="section-title" style="background:#1e40af;">Electric – Leapmotor C10</div>
                <table>
                    <tr><td>Battery capacity</td><td>70 kWh</td></tr>
                    <tr><td>Consumption</td><td><input type="number" id="consEvSim" value="16" min="8" max="35" step="0.5"> kWh/100km</td></tr>
                    <tr><td>Arrival SOC</td><td><input type="number" id="socEv" value="57" min="0" max="100" step="1"> %</td></tr>
                    <tr><td>Remaining energy</td><td><span id="remEv">39.9</span> kWh</td></tr>
                    <tr><td>Range remaining</td><td><span id="rangeNowEv">249</span> km</td></tr>
                    <tr><td>Energy to charge</td><td><input type="number" id="addEv" value="40" min="5" max="80" step="5"> kWh</td></tr>
                    <tr><td>Battery after charging</td><td><span id="afterEv">79.9</span> kWh</td></tr>
                    <tr><td>New SOC</td><td><span id="newSocEv">114 %</span> (theoretical)</td></tr>
                    <tr><td>Points added</td><td><span id="pointsEv">57 %p</span></td></tr>
                    <tr><td>New range</td><td><span id="rangeAfterEv">499</span> km</td></tr>
                    <tr class="price-row">
                        <td><strong>Session price</strong></td>
                        <td>
                            <div class="price-label">eJoin AC:</div>
                            <input type="number" id="priceEjoinRate" value="0.29" min="0.1" max="1" step="0.01"> €/kWh  
                            → <span id="priceEjoin" class="result">11.60 €</span><br>
                            <div class="price-label">ZSE DC:</div>
                            <input type="number" id="priceZseRate" value="0.39" min="0.1" max="1" step="0.01"> €/kWh  
                            → <span id="priceZse" class="result">15.60 €</span>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Diesel -->
            <div>
                <div class="section-title" style="background:#7c3aed;">Diesel – Peugeot 308</div>
                <table>
                    <tr><td>Tank capacity</td><td>50 l</td></tr>
                    <tr><td>Consumption</td><td><input type="number" id="consDieselSim" value="7" min="4" max="15" step="0.5"> l/100km</td></tr>
                    <tr><td>Arrival level</td><td><input type="number" id="socDiesel" value="57" min="0" max="100" step="1"> %</td></tr>
                    <tr><td>Remaining fuel</td><td><span id="remDiesel">28.5</span> l</td></tr>
                    <tr><td>Range remaining</td><td><span id="rangeNowDiesel">407</span> km</td></tr>
                    <tr><td>Fuel to add</td><td><input type="number" id="addDiesel" value="40" min="5" max="60" step="5"> l</td></tr>
                    <tr><td>Tank after refuel</td><td><span id="afterDiesel">68.5</span> l</td></tr>
                    <tr><td>New level</td><td><span id="newSocDiesel">137 %</span> (theoretical)</td></tr>
                    <tr><td>Points added</td><td><span id="pointsDiesel">80 %p</span></td></tr>
                    <tr><td>New range</td><td><span id="rangeAfterDiesel">979</span> km</td></tr>
                    <tr class="price-row">
                        <td><strong>Session price</strong></td>
                        <td>
                            <div class="price-label">Diesel price:</div>
                            <input type="number" id="priceDieselRate" value="1.40" min="0.5" max="3" step="0.01"> €/l  
                            → <span id="priceDiesel" class="result">56.00 €</span>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Petrol -->
            <div>
                <div class="section-title" style="background:#c2410c;">Petrol – Peugeot 308</div>
                <table>
                    <tr><td>Tank capacity</td><td>50 l</td></tr>
                    <tr><td>Consumption</td><td><input type="number" id="consPetrolSim" value="8" min="4" max="15" step="0.5"> l/100km</td></tr>
                    <tr><td>Arrival level</td><td><input type="number" id="socPetrol" value="57" min="0" max="100" step="1"> %</td></tr>
                    <tr><td>Remaining fuel</td><td><span id="remPetrol">28.5</span> l</td></tr>
                    <tr><td>Range remaining</td><td><span id="rangeNowPetrol">356</span> km</td></tr>
                    <tr><td>Fuel to add</td><td><input type="number" id="addPetrol" value="40" min="5" max="60" step="5"> l</td></tr>
                    <tr><td>Tank after refuel</td><td><span id="afterPetrol">68.5</span> l</td></tr>
                    <tr><td>New level</td><td><span id="newSocPetrol">137 %</span> (theoretical)</td></tr>
                    <tr><td>Points added</td><td><span id="pointsPetrol">80 %p</span></td></tr>
                    <tr><td>New range</td><td><span id="rangeAfterPetrol">856</span> km</td></tr>
                    <tr class="price-row">
                        <td><strong>Session price</strong></td>
                        <td>
                            <div class="price-label">Petrol price:</div>
                            <input type="number" id="pricePetrolRate" value="1.50" min="0.5" max="3" step="0.01"> €/l  
                            → <span id="pricePetrol" class="result">60.00 €</span>
                        </td>
                    </tr>
                </table>
            </div>

        </div>
    </div>

</div>

<footer>
    Interactive cost & refueling calculator • Leapmotor C10 data • January 2026
</footer>

<script>
const BATTERY = 70;
const TANK = 50;
const CHARGE_RATE = 6;      // kW
const CHARGE_HOURS = 6;

// Monthly
const monthlyKmEl         = document.getElementById('monthlyKm');
const consEvEl            = document.getElementById('consEv');
const priceEvEl           = document.getElementById('priceEv');
const consDieselEl        = document.getElementById('consDiesel');
const priceDieselMonthlyEl= document.getElementById('priceDieselMonthly');
const consPetrolEl        = document.getElementById('consPetrol');
const pricePetrolMonthlyEl= document.getElementById('pricePetrolMonthly');

// Results monthly
const needEvEl      = document.getElementById('needEv');
const costEvEl      = document.getElementById('costEv');
const needDieselEl  = document.getElementById('needDiesel');
const costDieselEl  = document.getElementById('costDiesel');
const needPetrolEl  = document.getElementById('needPetrol');
const costPetrolEl  = document.getElementById('costPetrol');
const savingsDieselEl = document.getElementById('savingsDiesel');
const savingsPetrolEl = document.getElementById('savingsPetrol');

// 6h AC
const added6hEl  = document.getElementById('added6h');
const cost6hEl   = document.getElementById('cost6h');
const range6hEl  = document.getElementById('range6h');

// EV sim
const consEvSimEl    = document.getElementById('consEvSim');
const socEvEl        = document.getElementById('socEv');
const addEvEl        = document.getElementById('addEv');
const priceEjoinRateEl = document.getElementById('priceEjoinRate');
const priceZseRateEl   = document.getElementById('priceZseRate');

const remEvEl        = document.getElementById('remEv');
const rangeNowEvEl   = document.getElementById('rangeNowEv');
const afterEvEl      = document.getElementById('afterEv');
const newSocEvEl     = document.getElementById('newSocEv');
const pointsEvEl     = document.getElementById('pointsEv');
const rangeAfterEvEl = document.getElementById('rangeAfterEv');
const priceEjoinEl   = document.getElementById('priceEjoin');
const priceZseEl     = document.getElementById('priceZse');

// Diesel sim
const consDieselSimEl = document.getElementById('consDieselSim');
const socDieselEl     = document.getElementById('socDiesel');
const addDieselEl     = document.getElementById('addDiesel');
const priceDieselRateEl = document.getElementById('priceDieselRate');

const remDieselEl       = document.getElementById('remDiesel');
const rangeNowDieselEl  = document.getElementById('rangeNowDiesel');
const afterDieselEl     = document.getElementById('afterDiesel');
const newSocDieselEl    = document.getElementById('newSocDiesel');
const pointsDieselEl    = document.getElementById('pointsDiesel');
const rangeAfterDieselEl= document.getElementById('rangeAfterDiesel');
const priceDieselEl     = document.getElementById('priceDiesel');

// Petrol sim
const consPetrolSimEl = document.getElementById('consPetrolSim');
const socPetrolEl     = document.getElementById('socPetrol');
const addPetrolEl     = document.getElementById('addPetrol');
const pricePetrolRateEl = document.getElementById('pricePetrolRate');

const remPetrolEl       = document.getElementById('remPetrol');
const rangeNowPetrolEl  = document.getElementById('rangeNowPetrol');
const afterPetrolEl     = document.getElementById('afterPetrol');
const newSocPetrolEl    = document.getElementById('newSocPetrol');
const pointsPetrolEl    = document.getElementById('pointsPetrol');
const rangeAfterPetrolEl= document.getElementById('rangeAfterPetrol');
const pricePetrolEl     = document.getElementById('pricePetrol');

function updateAll() {
    // Monthly
    let km = parseFloat(monthlyKmEl.value) || 500;
    let consEv = parseFloat(consEvEl.value) || 16;
    let pEv = parseFloat(priceEvEl.value) || 0.39;
    let consDi = parseFloat(consDieselEl.value) || 7;
    let pDi = parseFloat(priceDieselMonthlyEl.value) || 1.40;
    let consPe = parseFloat(consPetrolEl.value) || 8;
    let pPe = parseFloat(pricePetrolMonthlyEl.value) || 1.50;

    let needEv = (km / 100) * consEv;
    let costEv = needEv * pEv;
    let needDi = (km / 100) * consDi;
    let costDi = needDi * pDi;
    let needPe = (km / 100) * consPe;
    let costPe = needPe * pPe;

    needEvEl.textContent = needEv.toFixed(1);
    costEvEl.textContent = costEv.toFixed(2);
    needDieselEl.textContent = needDi.toFixed(1);
    costDieselEl.textContent = costDi.toFixed(2);
    needPetrolEl.textContent = needPe.toFixed(1);
    costPetrolEl.textContent = costPe.toFixed(2);
    savingsDieselEl.textContent = (costDi - costEv).toFixed(2);
    savingsPetrolEl.textContent = (costPe - costEv).toFixed(2);

    // 6h AC charging
    let added = CHARGE_HOURS * CHARGE_RATE;
    let cost6h = added * 0.29;
    let range6h = (added / consEv) * 100;

    added6hEl.textContent = added.toFixed(1);
    cost6hEl.textContent = cost6h.toFixed(2);
    range6hEl.textContent = Math.round(range6h);

    // EV SIM
    let consEvS = parseFloat(consEvSimEl.value) || consEv;
    let socEv = parseFloat(socEvEl.value) || 57;
    let addEv = parseFloat(addEvEl.value) || 40;
    let pEjoin = parseFloat(priceEjoinRateEl.value) || 0.29;
    let pZse   = parseFloat(priceZseRateEl.value) || 0.39;

    let remEv = (socEv / 100) * BATTERY;
    let rangeNowEv = (remEv / consEvS) * 100;
    let afterEv = remEv + addEv;
    let newSocEv = (afterEv / BATTERY) * 100;

    remEvEl.textContent = remEv.toFixed(1);
    rangeNowEvEl.textContent = Math.round(rangeNowEv);
    afterEvEl.textContent = afterEv.toFixed(1);
    newSocEvEl.textContent = Math.round(newSocEv) + ' %';
    pointsEvEl.textContent = Math.round(newSocEv - socEv) + ' %p';
    rangeAfterEvEl.textContent = Math.round((afterEv / consEvS) * 100);
    priceEjoinEl.textContent = (addEv * pEjoin).toFixed(2) + ' €';
    priceZseEl.textContent   = (addEv * pZse).toFixed(2) + ' €';

    // DIESEL SIM
    let consDiS = parseFloat(consDieselSimEl.value) || consDi;
    let socDi = parseFloat(socDieselEl.value) || 57;
    let addDi = parseFloat(addDieselEl.value) || 40;
    let pDiesel = parseFloat(priceDieselRateEl.value) || 1.40;

    let remDi = (socDi / 100) * TANK;
    let rangeNowDi = (remDi / consDiS) * 100;
    let afterDi = remDi + addDi;
    let newSocDi = (afterDi / TANK) * 100;

    remDieselEl.textContent = remDi.toFixed(1);
    rangeNowDieselEl.textContent = Math.round(rangeNowDi);
    afterDieselEl.textContent = afterDi.toFixed(1);
    newSocDieselEl.textContent = Math.round(newSocDi) + ' %';
    pointsDieselEl.textContent = Math.round(newSocDi - socDi) + ' %p';
    rangeAfterDieselEl.textContent = Math.round((afterDi / consDiS) * 100);
    priceDieselEl.textContent = (addDi * pDiesel).toFixed(2) + ' €';

    // PETROL SIM
    let consPeS = parseFloat(consPetrolSimEl.value) || consPe;
    let socPe = parseFloat(socPetrolEl.value) || 57;
    let addPe = parseFloat(addPetrolEl.value) || 40;
    let pPetrol = parseFloat(pricePetrolRateEl.value) || 1.50;

    let remPe = (socPe / 100) * TANK;
    let rangeNowPe = (remPe / consPeS) * 100;
    let afterPe = remPe + addPe;
    let newSocPe = (afterPe / TANK) * 100;

    remPetrolEl.textContent = remPe.toFixed(1);
    rangeNowPetrolEl.textContent = Math.round(rangeNowPe);
    afterPetrolEl.textContent = afterPe.toFixed(1);
    newSocPetrolEl.textContent = Math.round(newSocPe) + ' %';
    pointsPetrolEl.textContent = Math.round(newSocPe - socPe) + ' %p';
    rangeAfterPetrolEl.textContent = Math.round((afterPe / consPeS) * 100);
    pricePetrolEl.textContent = (addPe * pPetrol).toFixed(2) + ' €';
}

// All inputs trigger update
document.querySelectorAll('input[type="number"]').forEach(el => {
    el.addEventListener('input', updateAll);
});

// Initial calculation
updateAll();
</script>
</body>
</html>
